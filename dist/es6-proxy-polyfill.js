/**
 * ES6 Proxy Polyfill
 * @version 2.0.1
 * @author Ambit Tsai <ambit_tsai@qq.com>
 * @license Apache-2.0
 * @see {@link https://github.com/ambit-tsai/es6-proxy-polyfill}
 */
!function(t,n){"function"==typeof define&&define.amd?define(n(t)):"object"==typeof module&&module.exports?module.exports=n(t):t.Proxy||(t.Proxy=n(t))}("object"==typeof globalThis&&globalThis||"object"==typeof window&&window||"object"==typeof global&&global||"object"==typeof self&&self||this,function(t){var a,s="[[ProxyTarget]]",u="[[ProxyHandler]]",f="[[Get]]",p="[[Set]]",y="[[Call]]",l="[[Construct]]",e=t.Object,h=e.defineProperty,v=e.defineProperties,g=e.getPrototypeOf,b=e.getOwnPropertyDescriptor,d=!!v&&/\[native code\]/.test(v.toString());function r(t,n){if(this instanceof r)return o(t,n).proxy;P("Constructor Proxy requires 'new'")}function o(t,n){x(t)&&x(n)||P("Cannot create proxy with a non-object as target or handler");var e=new w(t,n);return{proxy:("function"==typeof t?function c(t){var n=t[s];function e(){return this instanceof e?t[l](arguments,e):t[y](this,arguments)}if(e.prototype=n.prototype,d){var r=O(t),o=m(g(n),r);for(var i in T(e,o),r=_(n,t))j(e,i)&&delete r[i];v(e,r)}else C(e,n);return e}:t instanceof Array?function o(e){var t,n,r=e[s];d&&((t=O(e)).concat.get=function(){var t=e[f]("concat",this);return t===Array.prototype.concat?t.bind(r):t},n=m(g(r),t));return(t=_(r,e)).length.set=function(t){var n=t-r.length;e[p]("length",t,this),n&&function f(t,n,e){var r=e[s];if(0<t)for(var o=r.length,i=o-t;i<o;++i){var c=b(n,i);c?h(r,i,c):r[i]=a,c=k(r,i,e),h(n,i,c)}else for(var u=(i=r.length)-t;i<u;++i)delete n[i]}(n,this,e)},m(n,t)}:function i(t){var n,e,r=t[s];d&&(n=O(t),e=m(g(r),n));return n=_(r,t),m(e,n)})(e),revoke:function(){e[s]=a,e[u]=a}}}function w(t,n){this[s]=t,this[u]=n}function c(t,n){t||P("Cannot perform '"+n+"' on a proxy that has been revoked")}function P(t){throw new TypeError(t)}function x(t){return t&&("object"==typeof t||"function"==typeof t)}function j(t,n){return e.prototype.hasOwnProperty.call(t,n)}r.revocable=function(t,n){return this instanceof r.revocable&&P("Proxy.revocable is not a constructor"),o(t,n)},w.prototype[f]=function(t,n){var e=this[u];return c(e,"get"),e.get==a?this[s][t]:"function"==typeof e.get?e.get(this[s],t,n):void P("Trap 'get' is not a function: "+e.get)},w.prototype[p]=function(t,n,e){var r=this[u];if(c(r,"set"),r.set==a)this[s][t]=n;else if("function"==typeof r.set){r.set(this[s],t,n,e)||P("Trap 'set' returned false for property '"+t+"'")}else P("Trap 'set' is not a function: "+r.set)},w.prototype[y]=function(t,n){var e=this[u];return c(e,"apply"),e.apply==a?this[s].apply(t,n):"function"==typeof e.apply?e.apply(this[s],t,n):void P("Trap 'apply' is not a function: "+e.apply)},w.prototype[l]=function(t,n){var e,r=this[u];if(c(r,"construct"),r.construct==a?e=function i(t,n){for(var e=[],r=0,o=n.length;r<o;++r)e.push("args["+r+"]");return new Function("Ctor","args","return new Ctor("+e.join(", ")+")")(t,n)}(this[s],t):"function"==typeof r.construct?e=r.construct(this[s],t,n):P("Trap 'construct' is not a function: "+r.construct),x(e))return e;P("Trap 'construct' returned non-object: "+e)};var i=e.getOwnPropertyNames||function(t){var n=[];for(var e in t)j(t,e)&&n.push(e);return n},T=e.setPrototypeOf||function(t,n){return t.__proto__=n,t},m=d?e.create:function(t,n){return v({},n)},C=e.assign||function(t,n){for(var e in n)j(n,e)&&(t[e]=n[e]);return t};function O(t){for(var n={},e=t[s];e=g(e);){var r=_(e,t);C(n,r)}return n}function _(t,n){for(var e=i(t),r={},o=e.length-1;0<=o;--o)r[e[o]]=k(t,e[o],n);return r}function k(t,n,e){var r=b(t,n);return{get:function(){return e[f](n,this)},set:function(t){e[p](n,t,this)},enumerable:r.enumerable,configurable:r.configurable}}return r});